<div class="container-fluid">
    <div class="d-flex align-items-center justify-content-between my-4 dis-bg ">
        <div class="ps-2">
            <h2>Edit Your <span>Profile !</span></h2>
            <p class="w-75">Now you can now Edit Your Profile</p>

        </div>
        <div>
            <button routerLink="/dashboard/myProfile" class="btn-main px-5 rounded-2">My Profile<i
                    class="fa-solid fa-arrow-right"></i></button>
        </div>
    </div>
    <form class="example-form m-5 shadow-lg  p-5 text-center w-75 m-auto mb-4" [formGroup]="ProfileForm"
        (ngSubmit)="EditProfile(ProfileForm)">
        <mat-form-field class="example-full-width w-100">
            <mat-label>User Name</mat-label>
            <input type="text" matInput placeholder="Ex. Mohamed9" formControlName="userName">
        </mat-form-field>
        <div class="text-start">
            <p *ngIf=" ProfileForm.get('userName')?.errors?.['required'] && ProfileForm.get('userName')?.touched"
                class="alert alert-danger p-2 rounded-3">
                userName is required
            </p>

            <p *ngIf="ProfileForm.get('userName')?.errors?.['minlength'] && ProfileForm.get('userName')?.touched"
                class="alert alert-danger p-2 rounded-3">
                userName must be at least 3 characters
            </p>

            <p *ngIf="ProfileForm.get('userName')?.errors?.['maxlength'] && ProfileForm.get('userName')?.touched"
                class="alert alert-danger p-2 rounded-3">
                userName must be no more than 8 characters
            </p>
        </div>

        <mat-form-field class="example-full-width w-100">
            <mat-label>email</mat-label>
            <input type="email" matInput placeholder="Ex. mf011818000@gmail.com" formControlName="email">
        </mat-form-field>
        <div class="text-start">
            <p *ngIf=" ProfileForm.get('email')?.errors?.['required'] && ProfileForm.get('email')?.touched"
                class="alert alert-danger p-2 rounded-3">
                email is required
            </p>

            <p *ngIf="ProfileForm.get('email')?.errors?.['email'] && ProfileForm.get('email')?.touched"
                class="alert alert-danger p-2 rounded-3">
                email must be as mf01018818000@gmail.com
            </p>
        </div>

        <mat-form-field class="example-full-width w-100">
            <mat-label>country</mat-label>
            <input type="text" matInput placeholder="Ex.Egypt" formControlName="country">
        </mat-form-field>
        <div class="text-start">
            <p *ngIf=" ProfileForm.get('country')?.errors?.['required'] && ProfileForm.get('country')?.touched"
                class="alert alert-danger p-2 rounded-3">
                country is required
            </p>

            <p *ngIf="ProfileForm.get('country')?.errors?.['minlength'] && ProfileForm.get('country')?.touched"
                class="alert alert-danger p-2 rounded-3">
                country must be at least 3 characters
            </p>

            <p *ngIf="ProfileForm.get('country')?.errors?.['maxlength'] && ProfileForm.get('country')?.touched"
                class="alert alert-danger p-2 rounded-3">
                country must be no more than 10 characters
            </p>
        </div>

        <mat-form-field class="example-full-width w-100">
            <mat-label>phoneNumber</mat-label>
            <input type="tel" matInput placeholder="Ex.01000005619" formControlName="phoneNumber">
        </mat-form-field>
        <div class="text-start">
            <p *ngIf=" ProfileForm.get('phoneNumber')?.errors?.['required'] && ProfileForm.get('phoneNumber')?.touched"
                class="alert alert-danger p-2 rounded-3">
                phoneNumber is required
            </p>
        </div>

        <mat-form-field class="example-full-width w-100">
            <mat-label>confirm Your Password</mat-label>
            <input matInput [type]="hide ? 'password' : 'text'" formControlName="confirmPassword">
            <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
        </mat-form-field>
        <div class="text-start">
            <p *ngIf=" ProfileForm.get('confirmPassword')?.errors?.['required'] && ProfileForm.get('confirmPassword')?.touched"
                class="alert alert-danger p-2 rounded-3">
                confirmPassword is required
            </p>
        </div>

        <div>

            <ngx-dropzone class="h-25 drop d-flex align-items-center justify-content-center flex-column"
                (change)="onSelect($event)" [multiple]="false" accept="image/*">

                <ngx-dropzone-label><i class="fa-solid fa-arrow-up-from-bracket "></i></ngx-dropzone-label>

                <ngx-dropzone-label>Drag & Drop or <span class="drop-bg ">Choose a Profile Image</span> to
                    Upload</ngx-dropzone-label>
                <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f"
                    [removable]="true" (removed)="onRemove(f)">
                </ngx-dropzone-image-preview>
            </ngx-dropzone>
        </div>
        <div class="d-flex align-items-center justify-content-end gap-2 my-3">
            <button routerLink="/dashboard/myProfile" type="button"
                class="btn btn-outline-success rounded-1 py-2">Cancel</button>
            <button type="submit" class="btn-main rounded-1 py-2 px-4">Edit</button>
        </div>

    </form>
</div>